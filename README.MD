# Описание

Целью тестового задания является создание REST API на Java для управления библиотекой.
Проект реализован с использованием Spring Boot 3, база данных — PostgreSQL 17.2, сборщик — Apache
Maven 3.9.9, язык — Java 17.

## Функциональность сервиса (API-эндпоинты):

1. Авторы (`/authors`)
    * Добавить автора(`POST`)
    * Получить список авторов (пагинация)(`GET ?page=0&size=10`)
    * Получить автора по ID (`GET /{id}`)
2. Книги (`/books`)
    * Добавить книгу (`POST`) 
    * Получить список всех книг (`GET`) 
    * Получить книгу по ID (`GET /{id}`) 
    * Обновить информацию о книге (`PUT /{id}`) 
    * Удалить книгу (`DELETE /{id}`)

## Перед запуском убедитесь, что установлены актуальные версии:

* JDK 17+
* Apache Maven 3+
* PostgreSQL 17
* Git

## Для запуска приложения:

1. Клонировать данный репозиторий
2. Заполнить в корне проекта конфигурационный файл `.env` согласно примеру
   `.env.example`:
    * `SPRING_DATASOURCE_HOST`={имя хоста}
    * `SPRING_DATASOURCE_PORT`={номер порта}
    * `SPRING_DATASOURCE_DB`={имя базы данных}
    * `SPRING_DATASOURCE_USERNAME`={имя пользователя}
    * `SPRING_DATASOURCE_PASSWORD`={пароль пользователя}
3. Собрать приложение командой в терминале:
   `mvn clean package`
   После успешной сборки в папке `target/` появится исполняемый JAR-файл
4. Создать базу данных PostgreSQL c именем и пользователем, соответствующими `.env`
5. Запустить приложение командой в терминале:
   `java -jar target/{имя собранного пакета}.jar`
   По умолчанию приложение запустится на порту 8080
6. Для закрытия приложения можно использовать комбинацию CTRL+C

## Использование эндпоинтов:

1. `POST /authors`

   Тело запроса должно содержать строки с именем писателя и годом рождения

```json
{
   "name": "{имя писателя}",
   "birthYear" : {год рождения}
}
```

2. `POST /books`, `PUT books/{id}`
   Тело запроса должно содержать строки с наименованием книги, идентификатором писателя,
   годом издания и жанром

```json
{
   "title" : "{наименование книги}",
   "authorId" : {айди писателя},
   "year" : {год издания},
   "genre" : "{наименование жанра}"
}
```

3. `GET /authors?page=0&size=10`
   Запрос списка авторов с пагинацией должен содержать номер страницы и количество записей
   на страницу.

4. Во всех остальных запросах тело отсутствует.

## Доступ к Swagger UI

Swagger UI доступен по следующему адресу:

```aiignore
http://localhost:8080/swagger.html
```

Файл OpenAPI JSON доступен по адресу:

```aiignore
http://localhost:8080/api-docs
```